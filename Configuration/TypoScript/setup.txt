plugin.tx_nagiosextensionlist {

  view {
    templateRootPaths.0 = {$plugin.tx_nagiosextensionlist.view.templateRootPath}
    partialRootPaths.0 = {$plugin.tx_nagiosextensionlist.view.partialRootPath}
    layoutRootPaths.0 = {$plugin.tx_nagiosextensionlist.view.layoutRootPath}
  }

  settings {
  }

  persistence {
    classes {
      SchamsNet\NagiosExtensionlist\Domain\Model\Extensionlist {
        mapping {
          tableName = tx_extensionmanager_domain_model_extension
        }
      }
    }
  }
}

config {
  disableAllHeaderCode = 1
  additionalHeaders {
    10 {
      header = Content-type: text/plain
      replace = 0
    }
  }

  admPanel = 0

  # EXT:sourceopt destroys text/plain documents
  sourceopt.enabled = 0
}

page >
page = PAGE
page {
  typeNum = 0

  10 = USER_INT
  10 {
    userFunc = TYPO3\CMS\Extbase\Core\Bootstrap->run
    vendorName = SchamsNet
    controller = Extensionlist
    extensionName = NagiosExtensionlist
    pluginName = nagiosextensionlist
    action = listInsecureExtensions

#   switchableControllerActions {
#     NagiosExtensionlist {
#       1 = listInsecureExtensions
#     }
#   }

    view =< plugin.tx_nagiosextensionlist.view
    settings =< plugin.tx_nagiosextensionlist.settings
    persistence =< plugin.tx_nagiosextensionlist.persistence
#   update =< plugin.tx_nagiosextensionlist.update
  }
}
